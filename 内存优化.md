#   内存优化
### 合理管理内存  
*   节制的使用service

    1. 如果应用程序中需要使用service执行后台任务时，请一定注意只有当任务正在执行的时候才能让Service运行起来，      
    另外等任务执行完成后应当立即停止Service，要小心Service的停止导致的内存泄漏。       
    2. 当我们启动一个Service时，系统倾向于将这个Service所依赖的进程进行保留，这样就会导致这个进程非常消耗内   
    存，并且，系统在LRUCache当中缓存的进程数也会减少，导致切换应用程序时候消耗更多的性能。严重的话，可能  
    导致崩溃，因为系统在内存非常吃紧的时候是无法维持所有正在运行的Service所依赖的进程。
    3. 为了更好的控制Service的生命周期，Android推荐使用IntentService，IntentService是一种当后台任务执      
    行结束后，会自动进行销毁从而极大可能的降低了Service引起的内存泄漏。
    4. 让一个Service在后台一直运行，即使不执行任何操作，也是编写Android程序的糟糕方案，这样会导致手机性能非常       
    底下，严重影响用户体验。
    
*   当页面不可见时释放内存     
    1. 当应用所有页面不可见的时候，我门应当释放所有和页面有关的资源。在这种场景下释放资源，可以让系统缓存进程的能        
    力提高。        
    2. 如何监听应用页面不可见？只需要在Activity中重写onTrimMemory()方法，然后在这个方法中去监听 **TRIM_MEMORY_  
    UI_HIDDEN** 这个级别，一旦触发了之后就说明用户已经离开我们的应用程序，此时就可以进行资源的回收。
            
                @Override  
                public void onTrimMemory(int level) {  
                    super.onTrimMemory(level);  
                    switch (level) {  
                    case TRIM_MEMORY_UI_HIDDEN:  
                        // 进行资源释放操作  
                        break;  
                    }  
                }  
                
    **注意：** onTrimMemory()和onStop()不一样，onTrimMemory是指应用所有界面都退出了，onStop仅仅是当前Activity。
           
*   当内存紧张时候释放内存     

    **除了刚才TRIM_MEMORY_UI_HIDDEN这个回调，onTrimMemory()还有很多其他类型的回调，可以在手机内存降低时候通知我们** 
    1. **TRIM_MEMORY_RUNNING_MODERATE** 表示应用程序正在运行，并且不会被杀掉，但是目前手机内存已经有点低了，系统可能      
    会根据LRU缓存规则去杀死进程。
    2. **TRIM_MEMORY_RUNNING_LOW** 表示应用程序正在运行，并且不会被杀掉，但是目前手机内存已经非常低了，我们应该去释放一   
    些不必要的资源以提升系统性能，同时这也会影响我们应用程序的性能。        
    3. **TRIM_MEMORY_RUNNING_CRITICAL** 表示应用程序仍然正常运行，但是系统已经根据LRU缓存规则杀掉了大部分缓存进程了。    
    这个时候我们应该尽可能的去释放任何不必要的资源，不然的话系统会杀掉缓存中所有的进程，并且会杀掉一些本来应该运行的进程，比如   
    后台服务。
    
    以上是当我们的应用程序正在运行时的回调，那么如果我们的程序目前是被缓存的，则会收到以下几种类型的回调：     
    
    4. **TRIM_MEMORY_BACKGROUND** 表示手机目前内存已经很低了，系统准备开始根据LRU缓存规则来清理进程了。这时我们的程序       
    在LRU列表最近的位置，是不太可能被清理掉的，但这时候去清理一些比较容易恢复的资源能够让手机的内存变得更充足，从而让我们的程序     
    更长时间的保留在缓存当中，这样用户返回我们程序的时候更流畅，而不是经历一次重启。
    5.**TRIM_MEMORY_COMPLETE**  表示手机目前内存已经很低了，并且我们的程序处于LRU列表最边缘的位置，系统会优先考虑杀掉    
    我们的程序，这个时候应当尽可能的把一切能释放的东西都释放。
    
*   避免在Bitmap上浪费内存      
    